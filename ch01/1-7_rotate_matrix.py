def rotate_matrix(matrix):
    """
    0   1  2  3  4        20 15 10  5  0
    5   6  7  8  9        21 16 11  6  1
    10 11 12 13 14  ->    22 17 12  7  2
    15 16 17 18 19        23 18 13  8  3
    20 21 22 23 24        24 19 14  9  4
    """
    n = len(matrix)
    for i in range(n // 2):
        for j in range(n // 2 + n % 2):
            print(i, j)
            tmp = matrix[i][j]
            matrix[i][j] = matrix[-1 - j][i]
            matrix[-1 - j][i] = matrix[-1 - i][-1 - j]
            matrix[-1 - i][-1 - j] = matrix[j][-1 - i]
            matrix[j][-1 - i] = tmp
    return


def test_rotate_matrix():
    test_cases = [
        (
            [[0]], 
            [[0]] 
        ),
        (
            [[0, 1], 
            [2, 3]], 
            [[2, 0],
            [3, 1]]
        ),
        (
            [[0, 1, 2], 
            [3, 4, 5], 
            [6, 7, 8]], 
            [[6, 3, 0], 
            [7, 4, 1], 
            [8, 5, 2]] 
        ),
        (
            [[0, 1,  2,  3],
            [4,  5,  6,  7], 
            [8,  9,  10, 11], 
            [12, 13, 14, 15]], 
            [[12, 8,  4,  0],
            [13, 9,  5,  1],
            [14, 10, 6,  2],
            [15, 11, 7,  3]]
        ),
        (
            [[0,  1,  2,  3,  4], 
            [5,  6,  7,  8,  9], 
            [10, 11, 12, 13, 14], 
            [15, 16, 17, 18, 19], 
            [20, 21, 22, 23, 24]],
            [[20, 15, 10,  5,  0],
            [21, 16, 11,  6,  1],
            [22, 17, 12,  7,  2],
            [23, 18, 13,  8,  3],
            [24, 19, 14,  9,  4]]
        )
    ]
    for case, expected in test_cases:
        rotate_matrix(case)
        assert case == expected
